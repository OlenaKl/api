{"ast":null,"code":"import _regeneratorRuntime from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/olena/Desktop/Projects/react-app/tidal/src/components/App.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DataService from '../services/DataService';\nimport { isEmptyObject } from '../services/UtilsLinks';\nimport { SearchBoxContainer } from './Search';\nimport { AlbumContainer } from './Albums';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onChange =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(value) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(_this.timer);\n\n                _this.setState({\n                  inputVaule: value\n                });\n\n                _this.timer = setTimeout(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee() {\n                  var results, artists;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return DataService.basicSearch(value, 3);\n\n                        case 2:\n                          results = _context.sent;\n                          artists = [];\n\n                          if (results !== null) {\n                            results.data.forEach(function (value) {\n                              if (artists.indexOf(value.artist.name) === -1) {\n                                artists.push(value.artist.name);\n                              }\n                            });\n                          }\n\n                          _this.setState({\n                            dataSource: artists,\n                            results: results\n                          });\n\n                          console.log(_this.state.results);\n\n                        case 7:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, this);\n                })), 0);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onPress =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var itemArtist, artist;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.state.inputVaule.length > 0 && Object.keys(_this.state.results).length > 0)) {\n                _context3.next = 13;\n                break;\n              }\n\n              itemArtist = _this.state.results.data.find(function (item) {\n                return item.artist.name === _this.state.inputVaule;\n              });\n              console.log(_this.state.inputVaule, itemArtist);\n\n              if (!(itemArtist === undefined)) {\n                _context3.next = 7;\n                break;\n              }\n\n              _this.setState({\n                emptyData: true\n              });\n\n              _context3.next = 11;\n              break;\n\n            case 7:\n              _context3.next = 9;\n              return DataService.basicSearch(itemArtist.artist.name, 5);\n\n            case 9:\n              artist = _context3.sent;\n\n              _this.setState({\n                artist: artist.data\n              });\n\n            case 11:\n              _context3.next = 14;\n              break;\n\n            case 13:\n              _this.setState({\n                noSuchArtist: true\n              });\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    _this.state = {\n      dataSource: [],\n      results: {},\n      artistAlbums: {},\n      inputVaule: '',\n      emptyData: false,\n      artist: {},\n      noSuchArtist: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(SearchBoxContainer, {\n        inputVaule: this.state.inputVaule,\n        dataSource: this.state.dataSource,\n        onChange: this.onChange,\n        onSelect: this.onSelect,\n        onClick: this.onPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), this.state.noSuchArtist && React.createElement(\"div\", {\n        className: \"no-artist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"There is no such artist! Please, search again and choose artists from the list!\")), isEmptyObject(this.state.artist) && React.createElement(AlbumContainer, {\n        artistsData: this.state.artist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/olena/Desktop/Projects/react-app/tidal/src/components/App.js"],"names":["React","Component","PropTypes","DataService","isEmptyObject","SearchBoxContainer","AlbumContainer","App","onChange","value","clearTimeout","timer","setState","inputVaule","setTimeout","basicSearch","results","artists","data","forEach","indexOf","artist","name","push","dataSource","console","log","state","onPress","length","Object","keys","itemArtist","find","item","undefined","emptyData","noSuchArtist","artistAlbums","onSelect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DataService from '../services/DataService';\nimport { isEmptyObject } from '../services/UtilsLinks';\nimport { SearchBoxContainer } from './Search';\nimport { AlbumContainer } from './Albums'\n\nimport './App.css';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      dataSource : [],\n      results: {},\n      artistAlbums: {},\n      inputVaule: '',\n      emptyData: false,\n      artist: {},\n      noSuchArtist: false\n    }\n  }\n  componentDidMount() {\n    this.timer = null;\n  }\n  onChange = async (value) => {\n    clearTimeout(this.timer);\n    this.setState({inputVaule: value});\n    this.timer = setTimeout(async () => {\n    const results = await DataService.basicSearch(value, 3);\n    const artists = [];\n    if(results !== null){\n      results.data.forEach((value) => {\n        if(artists.indexOf(value.artist.name) === -1){\n          artists.push(value.artist.name);\n        }\n      })\n    }\n    this.setState({ dataSource: artists, results });\n    console.log(this.state.results)\n    }, 0); \n  }\n  \n  onPress = async () => {\n    if(this.state.inputVaule.length > 0 && \n      Object.keys(this.state.results).length >0) {\n      const itemArtist = this.state.results.data.find((item) => {\n        return item.artist.name === this.state.inputVaule;\n      });\n      console.log(this.state.inputVaule, itemArtist)\n      if(itemArtist === undefined) {\n        this.setState({emptyData: true});\n      } else {\n        const artist =  await DataService.basicSearch(itemArtist.artist.name, 5);\n        this.setState({artist : artist.data})\n      }\n    } else {\n      this.setState({noSuchArtist: true});\n    }\n  }\n  render() {\n  \n    return (\n        <section className=\"App\">\n        <SearchBoxContainer\n          inputVaule={this.state.inputVaule}\n          dataSource={this.state.dataSource} \n          onChange={this.onChange} \n          onSelect={this.onSelect}\n          onClick={this.onPress}\n          />\n        {this.state.noSuchArtist && <div className=\"no-artist\">\n          <p>There is no such artist! Please, search again and choose artists from the list!</p>\n        </div>}\n        { isEmptyObject(this.state.artist) && <AlbumContainer artistsData={this.state.artist} /> }\n        </section>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}