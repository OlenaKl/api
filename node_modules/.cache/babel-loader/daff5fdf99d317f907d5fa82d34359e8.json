{"ast":null,"code":"import _regeneratorRuntime from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/olena/Desktop/Projects/react-app/tidal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/olena/Desktop/Projects/react-app/tidal/src/components/App.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DataService from '../services/DataService';\nimport { SearchBoxContainer } from './Search';\nimport { AlbumContainer } from './Albums';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onChange =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(value) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(_this.timer);\n\n                _this.setState({\n                  inputVaule: value\n                });\n\n                _this.timer = setTimeout(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee() {\n                  var results, artists;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return DataService.basicSearch(value, 3);\n\n                        case 2:\n                          results = _context.sent;\n                          artists = [];\n\n                          if (results !== null) {\n                            results.data.forEach(function (value) {\n                              if (artists.indexOf(value.artist.name) === -1) {\n                                artists.push(value.artist.name);\n                              }\n                            });\n                          }\n\n                          _this.setState({\n                            dataSource: artists,\n                            results: results\n                          });\n\n                          console.log(_this.state.results);\n\n                        case 7:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, this);\n                })), 0);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onPress =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var itemArtist, artist;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.state.inputVaule.length > 0)) {\n                _context3.next = 12;\n                break;\n              }\n\n              itemArtist = _this.state.results.data.find(function (item) {\n                return item.artist.name === _this.state.inputVaule;\n              });\n              console.log(_this.state.inputVaule, itemArtist);\n\n              if (!(itemArtist === undefined)) {\n                _context3.next = 7;\n                break;\n              }\n\n              _this.setState({\n                emptyData: true\n              });\n\n              _context3.next = 12;\n              break;\n\n            case 7:\n              _context3.next = 9;\n              return DataService.basicSearch(itemArtist.artist.name, 5);\n\n            case 9:\n              artist = _context3.sent;\n\n              _this.setState({\n                artist: artist.data\n              });\n\n              console.log(artist);\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    _this.state = {\n      dataSource: [],\n      results: {},\n      artistAlbums: {},\n      inputVaule: '',\n      emptyData: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(SearchBoxContainer, {\n        inputVaule: this.state.inputVaule,\n        dataSource: this.state.dataSource,\n        onChange: this.onChange,\n        onSelect: this.onSelect,\n        onClick: this.onPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(AlbumContainer, {\n        artistsData: this.state.artist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/olena/Desktop/Projects/react-app/tidal/src/components/App.js"],"names":["React","Component","PropTypes","DataService","SearchBoxContainer","AlbumContainer","App","onChange","value","clearTimeout","timer","setState","inputVaule","setTimeout","basicSearch","results","artists","data","forEach","indexOf","artist","name","push","dataSource","console","log","state","onPress","length","itemArtist","find","item","undefined","emptyData","artistAlbums","onSelect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DataService from '../services/DataService';\nimport { SearchBoxContainer } from './Search';\nimport { AlbumContainer } from './Albums'\n\nimport './App.css';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      dataSource : [],\n      results: {},\n      artistAlbums: {},\n      inputVaule: '',\n      emptyData: false\n    }\n  }\n  componentDidMount() {\n    this.timer = null;\n  }\n  onChange = async (value) => {\n    clearTimeout(this.timer);\n    this.setState({inputVaule: value});\n    this.timer = setTimeout(async () => {\n    const results = await DataService.basicSearch(value, 3);\n    const artists = [];\n    if(results !== null){\n      results.data.forEach((value) => {\n        if(artists.indexOf(value.artist.name) === -1){\n          artists.push(value.artist.name);\n        }\n      })\n    }\n    this.setState({ dataSource: artists, results });\n    console.log(this.state.results)\n    }, 0); \n  }\n  \n  onPress = async () => {\n    if(this.state.inputVaule.length > 0){\n      const itemArtist = this.state.results.data.find((item) => {\n        return item.artist.name === this.state.inputVaule;\n      });\n      console.log(this.state.inputVaule, itemArtist)\n      if(itemArtist === undefined) {\n        this.setState({emptyData: true});\n      } else {\n        const artist =  await DataService.basicSearch(itemArtist.artist.name, 5);\n        this.setState({artist : artist.data})\n        console.log(artist);\n      }\n    }\n  }\n  render() {\n  \n    return (\n        <section className=\"App\">\n        <SearchBoxContainer\n          inputVaule={this.state.inputVaule}\n          dataSource={this.state.dataSource} \n          onChange={this.onChange} \n          onSelect={this.onSelect}\n          onClick={this.onPress}\n          />\n        <AlbumContainer artistsData={this.state.artist} />\n        </section>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}